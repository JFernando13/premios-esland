import{_}from"./preload-helper.hlDPvxQM.js";import"./hoisted.l-JsOPk0.js";async function y(n,t,o){const{callbackUrl:a=window.location.href,redirect:c=!0}=t??{},{prefix:i="/api/auth",...r}=t??{},e=n==="credentials",f=e||n==="email",h=`${`${i}/${e?"callback":"signin"}/${n}`}?${new URLSearchParams(o)}`,g=await fetch(`${i}/csrf`),{csrfToken:m}=await g.json(),l=await fetch(h,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...r,csrfToken:m,callbackUrl:a})}),s=await l.clone().json(),p=new URL(s.url).searchParams.get("error");if(c||!f||!p){window.location.href=s.url??a,s.url.includes("#")&&window.location.reload();return}return l}async function u(n){const{callbackUrl:t=window.location.href,prefix:o="/api/auth"}=n??{},a=await fetch(`${o}/csrf`),{csrfToken:c}=await a.json(),e=(await(await fetch(`${o}/signout`,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({csrfToken:c,callbackUrl:t})})).json()).url??t;window.location.href=e,e.includes("#")&&window.location.reload()}const R=Object.freeze(Object.defineProperty({__proto__:null,signIn:y,signOut:u},Symbol.toStringTag,{value:"Module"})),{signIn:k}=await _(()=>Promise.resolve().then(()=>R),void 0),d=document.getElementById("login"),w=document.getElementById("logout");d&&d.addEventListener("click",async()=>{await k("twitch")});w&&w.addEventListener("click",async()=>{console.log("HOla"),await u()});
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
